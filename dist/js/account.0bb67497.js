(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["account"],{"21a6":function(t,e,a){(function(a){var o,i,n;(function(a,r){i=[],o=r,n="function"===typeof o?o.apply(e,i):o,void 0===n||(t.exports=n)})(0,function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function o(t,e,a){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){s(o.response,e,a)},o.onerror=function(){console.error("could not download file")},o.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(o){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,a){var s=r.URL||r.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?n(l):i(l.href)?o(t,e,a):n(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){n(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,r){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,r),a);else if(i(t))o(t,a,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){n(s)})}}:function(t,e,a,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return o(t,e,a);var n="application/octet-stream"===t.type,s=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||n&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},c.readAsDataURL(t)}else{var u=r.URL||r.webkitURL,d=u.createObjectURL(t);i?i.location=d:location.href=d,i=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});r.saveAs=s.saveAs=s,t.exports=s})}).call(this,a("c8ba"))},"5cce":function(t,e,a){"use strict";var o=a("b532"),i=a.n(o);i.a},9694:function(t,e,a){},a250:function(t,e,a){},b11a:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",[a("v-toolbar-side-icon"),a("v-toolbar-title",[t._v("Conta")]),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[a("v-btn",{attrs:{flat:""},on:{click:t.signOut}},[t._v("Sair")])],1)],1),a("Submissions")],1)},i=[],n=a("9ab4"),r=a("60a3"),s=a("2fe1"),l=a("d60d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{staticClass:"mt-5 form-wrapper"},[t.isAdmin?a("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tab",{staticClass:"primary--text",attrs:{href:"#mobile-tabs-5-1"}},[t._v("Submissões")]),a("v-tab",{staticClass:"primary--text",attrs:{href:"#mobile-tabs-5-2"}},[t._v("Usuários")])],1):t._e(),a("v-tabs-items",{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("v-tab-item",{attrs:{value:"mobile-tabs-5-1"}},[a("v-divider"),a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Submissões")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Pesquisar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.submissions,loading:t.loading,search:t.search,"item-key":"id","select-all":"","rows-per-page-text":"Itens por página:","no-data-text":"Ops! Parece que você ainda não tem nenhuma submissão."},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}})],1),a("td",[t._v(t._s(e.item.id))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.title))]),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{small:"",color:e.item.color}},[t._v(t._s(e.item.status))])],1),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.created_at))]),a("td",{staticClass:"text-xs-center"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[a("v-btn",t._g({attrs:{fab:"",flat:"",small:""},on:{click:function(a){return t.downloadFile(e.item.file_url,e.item.title)}}},i),[a("v-icon",{attrs:{dark:"",color:"blue"}},[t._v("cloud_download")])],1)]}}],null,!0)},[a("span",[t._v("Baixar arquivo")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[t.isProofreader||t.isAdmin?a("v-btn",t._g({attrs:{fab:"",flat:"",small:""},on:{click:function(a){return t.showProofread(e.item.id)}}},i),[a("v-icon",{attrs:{dark:"",color:"gray"}},[t._v("rate_review")])],1):t._e()]}}],null,!0)},[a("span",[t._v("Revisar submissão")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(o){var i=o.on;return[t.isAdmin?a("v-btn",t._g({attrs:{fab:"",flat:"",small:""},on:{click:function(a){return t.showSetProofreader(e.item.id)}}},i),[a("v-icon",{attrs:{dark:"",color:"teal"}},[t._v("person_add")])],1):t._e()]}}],null,!0)},[a("span",[t._v("Atribuir revisor")])])],1)]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('Sua pesquisa por "'+t._s(t.search)+'" não teve nenhum resultado.')])]},proxy:!0}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("SubmissionForm"),a("ProofcheckForm",{attrs:{showDialog:t.showRevisionDialog,submissionId:t.submissionId}}),a("SetProofreader",{attrs:{showDialog:t.showProofreaderDialog}})],1),a("v-tab-item",{attrs:{value:"mobile-tabs-5-2"}},[t._v("Mano do ceu")])],1)],1)],1)},u=[],d=a("bc3a"),v=a.n(d),f="https://shielded-inlet-38206.herokuapp.com/";function p(t,e,a){return n["a"](this,void 0,Promise,function(){var o,i;return n["d"](this,function(n){switch(n.label){case 0:return o=new FormData,o.append("userId",t),o.append("title",e),o.append("file",a),[4,v.a.post(f+"submissions",o,{headers:{"Content-Type":"multipart/form-data"}})];case 1:return i=n.sent(),[2,i.data]}})})}function m(t){return n["a"](this,void 0,void 0,function(){return n["d"](this,function(e){return[2,v.a.get(f+"submissions/"+t).then(function(t){return t.data})]})})}function b(t){return v.a.get(f+"submissions/file/"+t,{responseType:"blob"}).then(function(t){return t.data})}var h=a("4ba9"),g=a("21a6"),x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-btn",{staticClass:"mt-3",attrs:{color:"primary"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Adicionar")]),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Submissão")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Título",rules:[function(t){return!!t||"Título é obrigatório"}],required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Selecionar arquivo","prepend-icon":"attach_file",rules:[function(t){return!!t||"Arquivo é obrigatório"}],required:""},on:{click:t.pickFile},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}}),a("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:".pdf"},on:{change:t.onFilePicked}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",flat:"",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{type:"submit",flat:"",color:"success"}},[t._v("Submeter")])],1)],1)],1)],1)],1)},w=[],y=function(t){function e(){var e=t.call(this)||this;return e.dialog=!1,e.valid=!1,e.fileName="",e.fileUrl="",e.file=null,e.title="",e}return n["c"](e,t),e.prototype.pickFile=function(){this.$refs.image.click()},e.prototype.onFilePicked=function(t){var e=this,a=t.target.files;if(void 0!==a[0]){if(this.fileName=a[0].name,this.fileName.lastIndexOf(".")<=0)return;var o=new FileReader;o.readAsDataURL(a[0]),o.addEventListener("load",function(){e.fileUrl=o.result,e.file=a[0]})}else this.fileName="",this.file=null,this.fileUrl=""},e.prototype.submit=function(){return n["a"](this,void 0,void 0,function(){var t=this;return n["d"](this,function(e){return this.$refs.form.validate()&&(this.showLoader(),p(this.$store.state.user.id,this.title,this.file).then(function(e){e.success&&(t.hideLoader(),t.dialog=!1)}).catch(function(e){t.hideLoader(),t.showServerErorNotification()})),[2]})})},e=n["b"]([r["a"]],e),e}(Object(s["c"])(l["a"],h["a"])),_=y,k=_,O=(a("dca0"),a("2877")),S=Object(O["a"])(k,x,w,!1,null,"554116e8",null),C=S.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Revisão")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[t._l(t.items,function(e){return a("v-radio-group",{key:e.title,scopedSlots:t._u([{key:"label",fn:function(){return[a("div",[a("strong",[t._v(t._s(e.title))]),t._v("\n                      "+t._s(e.subtitle)+"\n                    ")])]},proxy:!0}],null,!0),model:{value:e.group,callback:function(a){t.$set(e,"group",a)},expression:"item.group"}},t._l(e.options,function(t,e){return a("v-radio",{key:e,attrs:{label:t.text,value:t.value}})}),1)}),a("v-textarea",{attrs:{solo:"",label:"Mensagem para o autor",required:""},model:{value:t.mensagemAutor,callback:function(e){t.mensagemAutor=e},expression:"mensagemAutor"}}),a("v-textarea",{attrs:{solo:"",label:"Mensagem para a organização",required:""},model:{value:t.mensagemOrganizacao,callback:function(e){t.mensagemOrganizacao=e},expression:"mensagemOrganizacao"}})],2)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",flat:"",text:""},on:{click:t.hideDialog}},[t._v("Cancelar")]),a("v-btn",{attrs:{type:"submit",flat:"",color:"success"},on:{click:t.submit}},[t._v("Submeter")])],1)],1)],1)],1)],1)},E=[],j="https://shielded-inlet-38206.herokuapp.com/proofreads/";function A(t){return n["a"](this,void 0,void 0,function(){return n["d"](this,function(e){return[2,v.a.get(j+t).then(function(t){return t.data})]})})}var T=function(t){function e(){var e=t.call(this)||this;return e.dialog=!1,e.valid=!1,e.title="",e.mensagemAutor="",e.mensagemOrganizacao="",e.items=[{group:0,title:"Originalidade do trabalho: ",subtitle:"Como você avalia a originalidade do trabalho apresentado nesse artigo?",options:[{value:5,text:"5. Muito original"},{value:4,text:"4. Originalidade acima da média"},{value:3,text:"3. Originalidade média"},{value:2,text:"2. Pouca originalidade"},{value:1,text:"1. Nenhuma originalidade"}]},{group:0,title:"Contribuição para a área: ",subtitle:"Como você avalia a contribuição do artigo para a área?",options:[{value:5,text:"5. Grande contribuição para a área"},{value:4,text:"4. Contribuição significante"},{value:3,text:"3. Contribuição pequena, mas clara"},{value:2,text:"2. Pouca contribuição"},{value:1,text:"1. Nenhuma contribuição discernível para a área"}]},{group:0,title:"Qualidade técnica: ",subtitle:"Como você avalia a qualidade técnica do trabalho apresentado nesse artigo?",options:[{value:5,text:"5. Excelente"},{value:4,text:"4. Boa"},{value:3,text:"3. Média"},{value:2,text:"2. Baixa"},{value:1,text:"1. Inaceitável"}]},{group:0,title:"Organização e apresentação: ",subtitle:"Como você avalia a legibilidade, clareza e organização desse artigo?\n         As citaçôes e formatação estão de acordo com o estilo da conferência?",options:[{value:5,text:"5. Excelente"},{value:4,text:"4. Boa"},{value:3,text:"3. Média"},{value:2,text:"2. Baixa"},{value:1,text:"1. Inaceitável"}]},{group:0,title:"Recomendação para esse trabalho: ",subtitle:"O que você recomenda para esse artigo?",options:[{value:5,text:"5. Deve ser aceito - Tenho fortes argumentos a favor da aceitação"},{value:4,text:"4. Aceitação fraca - Não irei lutar fortemente pela aceitação desse trabalho"},{value:3,text:"3. Neutro - Não tenho certeza"},{value:2,text:"2. Rejeição frace - Não irei lutar fortemente contra"},{value:1,text:"1. Não deve ser aceito - Tenho fortes argumentos a favor da não aceitação"}]},{group:"",title:"Confiança do revisor: ",subtitle:"Qual é a sua confiança a respeito dessa revisão?",options:[{value:"expert",text:"Sou um especialista na área"},{value:"familiar",text:"Sou familiarizado com trabalho nessa área"},{value:"non-expert",text:"Não sou um especialista na área"}]},{group:"",title:"Categoria: ",subtitle:"Em qual categoria o trabalho se enquadra?",options:[{value:"oral-presentation",text:"Apresentação Oral"},{value:"poster",text:"Poster"}]},{group:"",title:"Indicação: ",subtitle:"Indicaria esse trabalho ao prêmio de melhor artigo da área?",options:[{value:"sim",text:"Sim"},{value:"nao",text:"Nao"}]}],e}return n["c"](e,t),e.prototype.showDialogChanged=function(t,e){this.dialog=t,this.shownDialog()},e.prototype.shownDialog=function(){var t=this;0!==this.submissionId&&A(this.submissionId).then(function(e){e.success&&t.mapValues(e.data)}).catch(function(t){console.log(t)})},e.prototype.hideDialog=function(){this.dialog=!1},e.prototype.mapValues=function(t){this.items[0].group=t.originalidade,this.items[1].group=t.contribuicao,this.items[3].group=t.qualidade,this.items[4].group=t.organizacao,this.items[5].group=t.recomendacao,this.items[6].group=t.confianca_revisor,this.items[7].group=t.categoria,this.items[8].group=t.indicacao,this.mensagemAutor=t.mensagem_autor,this.mensagemOrganizacao=t.mensagem_organizacao},e.prototype.submit=function(){return n["a"](this,void 0,void 0,function(){return n["d"](this,function(t){return this.showWarningNotification("Função indisponível"),[2]})})},n["b"]([Object(r["b"])({type:Boolean,default:!1})],e.prototype,"showDialog",void 0),n["b"]([Object(r["b"])(Number)],e.prototype,"submissionId",void 0),n["b"]([Object(r["d"])("showDialog")],e.prototype,"showDialogChanged",null),e=n["b"]([r["a"]],e),e}(Object(s["c"])(l["a"],h["a"])),P=T,N=P,R=(a("5cce"),Object(O["a"])(N,D,E,!1,null,"a65bd41c",null)),q=R.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("Deseja atribuir esse(s) artigos(s) ao revisor fulano?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",flat:"flat"},on:{click:t.hideDialog}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.setProofreader}},[t._v("Confirmar")])],1)],1)],1)],1)},L=[],U=function(t){function e(){var e=t.call(this)||this;return e.dialog=!1,e}return n["c"](e,t),e.prototype.showDialogChanged=function(t,e){this.dialog=t},e.prototype.hideDialog=function(){this.dialog=!1},e.prototype.setProofreader=function(){alert("Brabo")},n["b"]([Object(r["b"])({type:Boolean,default:!1})],e.prototype,"showDialog",void 0),n["b"]([Object(r["d"])("showDialog")],e.prototype,"showDialogChanged",null),e=n["b"]([Object(r["a"])({components:{}})],e),e}(r["c"]),$=U,F=$,z=Object(O["a"])(F,I,L,!1,null,null,null),B=z.exports,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isProofreader=!1,e.isAdmin=!1,e.activeTab=null,e.showRevisionDialog=!1,e.showProofreaderDialog=!1,e.submissionId=0,e.loading=!1,e.search="",e.selected=[],e.date=null,e.headers=[{text:"Número",align:"center",value:"id"},{text:"Título",align:"center",value:"title"},{text:"Status",align:"center",value:"status"},{text:"Data de submissão",align:"center",value:"created_at"},{text:"",align:"center",value:"actions"}],e.submissions=[],e}return n["c"](e,t),e.prototype.created=function(){var t=this;this.verifyUser(),this.loading=!0,m(this.$store.state.user.id).then(function(e){t.loading=!1,e.success&&(e.data.forEach(function(e){e.created_at=new Date(e.created_at).toLocaleDateString(),e.color=t.mapStatus(e.status).color,e.status=t.mapStatus(e.status).text}),t.submissions=e.data)}).catch(function(e){t.loading=!1})},e.prototype.verifyUser=function(){this.isProofreader="proofreader"===this.$store.state.user.type,this.isAdmin="admin"===this.$store.state.user.type},e.prototype.downloadFile=function(t,e){var a=this;this.loading=!0,b(t.substring(t.lastIndexOf("/")+1,t.length)).then(function(t){Object(g["saveAs"])(t,e),a.loading=!1}).catch(function(t){a.showErrorNotification("Ocorreu um erro ao realizar o download do arquivo."),a.loading=!1})},e.prototype.mapStatus=function(t){return"pendente"===t?{color:"",text:"PENDENTE"}:"aceito-em-revisao"===t?{color:"warning",text:"ACEITO - EM REVISÃO"}:"reprovado"===t?{color:"error",text:"NÃO ACEITO"}:"aprovado"===t?{color:"success",text:"ACEITO"}:void 0},e.prototype.showProofread=function(t){this.submissionId=t,this.showRevisionDialog=!0},e.prototype.showSetProofreader=function(t){this.showProofreaderDialog=!0},e=n["b"]([Object(r["a"])({components:{SubmissionForm:C,ProofcheckForm:q,SetProofreader:B}})],e),e}(Object(s["c"])(l["a"],h["a"])),H=M,V=H,G=(a("fe2c"),Object(O["a"])(V,c,u,!1,null,"03d0b94a",null)),J=G.exports,Q=a("5f1f"),X=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n["c"](e,t),e.prototype.created=function(){this.$store.state.userSession||this.$router.push("/submissao")},e.prototype.signOut=function(){Object(Q["c"])(),this.$router.push("/")},e=n["b"]([Object(r["a"])({components:{Submissions:J}})],e),e}(Object(s["c"])(l["a"])),W=X,K=W,Y=Object(O["a"])(K,o,i,!1,null,null,null);e["default"]=Y.exports},b532:function(t,e,a){},dca0:function(t,e,a){"use strict";var o=a("a250"),i=a.n(o);i.a},fe2c:function(t,e,a){"use strict";var o=a("9694"),i=a.n(o);i.a}}]);
//# sourceMappingURL=account.0bb67497.js.map